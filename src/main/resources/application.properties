# Use the correct connection format for Supabase
spring.datasource.url=${SUPABASE_DB_URL}
spring.datasource.username=${SUPABASE_DB_USERNAME}
spring.datasource.password=${SUPABASE_DB_PASSWORD}

# Connection pool settings
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000

# JPA settings
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Jwt secret key
jwt.secret=${JWT_SECRET}

# RabbitMQ Configuration för CloudAMQP
spring.rabbitmq.host=${RABBITMQ_HOST:localhost}
spring.rabbitmq.port=${RABBITMQ_PORT:5672}
spring.rabbitmq.username=${RABBITMQ_USERNAME:guest}
spring.rabbitmq.password=${RABBITMQ_PASSWORD:guest}
spring.rabbitmq.virtual-host=${RABBITMQ_VHOST:/}

# Viktigt: Använd TLS/SSL
spring.rabbitmq.ssl.enabled=true
spring.rabbitmq.ssl.algorithm=TLSv1.2

# Connection settings
spring.rabbitmq.template.receive-timeout=30000
spring.rabbitmq.listener.simple.acknowledge-mode=auto

# Se till att info logs visas
logging.level.com.haraldsson.weather_app=INFO
logging.level.org.springframework.web=INFO
logging.level.org.springframework.amqp=INFO